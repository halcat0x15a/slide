<html>
      <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <title>async.cljs</title>
        <link type="text/css" rel="stylesheet" href="assets/css/show.css" />
        <link type="text/css" rel="stylesheet" href="assets/css/prettify.css" />
        <script type="text/javascript" src="assets/js/jquery.min.js"></script>
        <script type="text/javascript" src="assets/js/show.js"></script>
        <script type="text/javascript" src="assets/js/prettify/prettify.js"></script>
        <script type="text/javascript" src="assets/js/prettify/lang-apollo.js"></script><script type="text/javascript" src="assets/js/prettify/lang-css.js"></script><script type="text/javascript" src="assets/js/prettify/lang-hs.js"></script><script type="text/javascript" src="assets/js/prettify/lang-lisp.js"></script><script type="text/javascript" src="assets/js/prettify/lang-lua.js"></script><script type="text/javascript" src="assets/js/prettify/lang-ml.js"></script><script type="text/javascript" src="assets/js/prettify/lang-proto.js"></script><script type="text/javascript" src="assets/js/prettify/lang-scala.js"></script><script type="text/javascript" src="assets/js/prettify/lang-sql.js"></script><script type="text/javascript" src="assets/js/prettify/lang-sql.js"></script><script type="text/javascript" src="assets/js/prettify/lang-vb.js"></script><script type="text/javascript" src="assets/js/prettify/lang-vhdl.js"></script><script type="text/javascript" src="assets/js/prettify/lang-wiki.js"></script><script type="text/javascript" src="assets/js/prettify/lang-yaml.js"></script>
      <script type="text/javascript"><!--
        window.onload=function() { prettyPrint(); };
      --></script>
      </head>
      <body>
        <div id="slides">
          <div id="reel">
            <div class="content" id="slide-0">
       <div class="container"><h1 id="ClojureScript">ClojureScript</h1><h2 id="in+%E6%AE%8B%E3%83%91%E3%83%B3%E4%BC%9A">in 残パン会</h2><h3 id="%E6%99%82%E9%96%93%E4%BD%99%E3%81%A3%E3%81%9F%E3%81%8B%E3%82%89%E3%82%B9%E3%83%A9%E3%82%A4%E3%83%89%E4%BD%9C%E3%81%A3%E3%81%9F%E3%80%82">時間余ったからスライド作った。</h3></div>
      </div><div class="content" id="slide-1">
       <div class="container"><h1 id="%E8%87%AA%E5%B7%B1%E7%B4%B9%E4%BB%8B">自己紹介</h1><ul><li>よしださんしろう
</li><li>halcat0x15a
</li><li>大学生
</li><li>Scala, Clojure, Pythonがメイン
</li></ul></div>
      </div><div class="content" id="slide-2">
       <div class="container"><h1 id="%E4%BD%9C%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE">作ったもの</h1><h2 id="Monadic%E3%81%AA%E9%9D%9E%E5%90%8C%E6%9C%9F%E9%80%9A%E4%BF%A1%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA">Monadicな非同期通信ライブラリ</h2><h3 id="%E6%97%A2%E5%AD%98%E3%81%AE%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%82%92%E3%83%A9%E3%83%83%E3%83%97%E3%81%97%E3%81%9F%E3%82%82%E3%81%AE">既存のライブラリをラップしたもの</h3></div>
      </div><div class="content" id="slide-3">
       <div class="container"><h1 id="%E7%90%86%E7%94%B1%E3%81%A8%E3%81%8B">理由とか</h1><ul><li>コールバック地獄が嫌なので
</li><li>現在ClojureScriptを使ったサービスを作っているので
</li><li>こんなに素晴しいのにClojureScriptを誰も使ってないのが残念だから
</li></ul></div>
      </div><div class="content" id="slide-4">
       <div class="container"><h1 id="%E6%9B%B8%E3%81%84%E3%81%9F%E3%82%B3%E3%83%BC%E3%83%89">書いたコード</h1><pre><code class="prettyprint lang-clojure">(defn send [url method content headers timeout-interval]
  #(xhr-io/send url (fn [xhr] (% xhr.target)) method content headers timeout-interval))

(defn bind [f g]
  #(f (fn [x] ((g x) %))))

(defn fmap [f g]
  #(f (fn [x] (% (g x)))))
</code></pre></div>
      </div><div class="content" id="slide-5">
       <div class="container"><h1 id="%E6%9B%B8%E3%81%84%E3%81%9F%E3%82%B3%E3%83%BC%E3%83%89">書いたコード</h1><pre><code class="prettyprint lang-clojure">(defmacro do-m [b m]
  (let [[[fk fv] &amp; t] (reverse (partition 2 b))
        f #(list %1 %2 (list 'fn (vector %3) %4))]
    (reduce (fn [l [k v]] (f 'onedit.core/bind v k l)) (f 'onedit.core/fmap fv fk m) t)))
</code></pre></div>
      </div><div class="content" id="slide-6">
       <div class="container"><h1 id="%E6%9B%B8%E3%81%84%E3%81%9F%E3%82%B3%E3%83%BC%E3%83%89">書いたコード</h1><pre><code class="prettyprint lang-clojure">(defn test-syntax []
  (syntax/do-m [a (core/fmap (core/send &quot;lexers&quot;) #(.getResponseText %))
                b (core/fmap (core/send &quot;lexers&quot;) #(.getResponseText %))]
               (+ a.length b.length)))
</code></pre><p>これだけ
</p></div>
      </div><div class="content" id="slide-7">
       <div class="container"><h1 id="%E6%AF%94%E8%BC%83%E3%81%A8%E3%81%8B">比較とか</h1><h2 id="JavaScript">JavaScript</h2><pre><code class="prettyprint lang-javascript">goog.net.XhrIo.send(
  &quot;geso&quot;,
  function (x) {
    goog.net.XhrIo.send(
      x.getResponseText(),
      function (x) {
        console.log(x)
      }
    )
  }
)
</code></pre></div>
      </div><div class="content" id="slide-8">
       <div class="container"><h2 id="ClojureScript">ClojureScript</h2><pre><code class="prettyprint lang-clojure">(xhr-io/send
  &quot;geso&quot;
  (fn [x]
    (xhr-io/send
      (x.getResponseText x)
      #(.log js/console %))))
</code></pre></div>
      </div><div class="content" id="slide-9">
       <div class="container"><h2 id="JavaScript%28Monadic%29">JavaScript(Monadic)</h2><pre><code class="prettyprint lang-javascript">onedit.core.bind(onedit.core.send(&quot;geso&quot;), function (x) {
  onedit.core.send(x.getResponseText())
})(console.log)
</code></pre></div>
      </div><div class="content" id="slide-10">
       <div class="container"><h2 id="ClojureScript%28Monadic%29">ClojureScript(Monadic)</h2><pre><code class="prettyprint lang-clojure">((syntax/do-monad
  [x (core/send &quot;geso&quot;)
   y (core/send (.getResponseText x))] y)
 #(.log js/console %))
</code></pre></div>
      </div><div class="content" id="slide-11">
       <div class="container"><h1 id="%E5%8B%95%E3%81%8B%E3%81%97%E3%81%AA%E3%81%8C%E3%82%89%E3%81%AE%E8%A7%A3%E8%AA%AC%E3%81%A8%E3%81%8B">動かしながらの解説とか</h1></div>
      </div><div class="content" id="slide-12">
       <div class="container"><h1 id="%E3%81%82%E3%82%8A%E3%81%8C%E3%81%A8%E3%81%86%E3%81%94%E3%81%96%E3%81%84%E3%81%BE%E3%81%97%E3%81%9F">ありがとうございました</h1></div>
      </div>
          </div>
        </div>
        
      </body>
    </html>